<!DOCTYPE html>
<html>
<head>
    <title>Student System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>

<body>
  <nav class="navbar navbar-expand-lg mb-4">
  <div class="container-fluid">

    <!-- LEFT SIDE: TITLE -->
    <span class="navbar-brand fw-bold">
      Student Management System
    </span>

    <!-- RIGHT SIDE: BUTTONS -->
    <div class="ms-auto d-flex gap-2">
      <button
        class="btn btn-sm btn-outline-secondary theme-btn"
        onclick="toggleDarkMode()">
        ðŸŒ™ Toggle Theme
      </button>

      <button
        class="btn btn-sm btn-outline-danger logout-btn"
        onclick="confirmLogout()">
        ðŸ”“ Logout
      </button>
    </div>

  </div>
</nav>


<div class="container mt-4">

{% with messages = get_flashed_messages(with_categories=true) %}
{% for category, msg in messages %}
<div class="alert alert-{{ category }} alert-dismissible fade show auto-dismiss" role="alert">
    {{ msg }}
</div>
{% endfor %}
{% endwith %}


{% block content %}{% endblock %}
</div>
<script>
  setTimeout(function () {
    const alerts = document.querySelectorAll('.auto-dismiss');
    alerts.forEach(function(alert) {
      alert.classList.remove('show');
      alert.classList.add('fade');
      setTimeout(() => alert.remove(), 500);
    });
  }, 5000); // 5 seconds
</script>
<footer class="text-center text-muted mt-5 mb-3">
  Â© 2026 Student Management System | Built with Flask
</footer>
<script>
  function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");

    // save preference
    if (document.body.classList.contains("dark-mode")) {
      localStorage.setItem("theme", "dark");
    } else {
      localStorage.setItem("theme", "light");
    }
  }

  // load saved theme on refresh
  window.onload = function () {
    const theme = localStorage.getItem("theme");
    if (theme === "dark") {
      document.body.classList.add("dark-mode");
    }
  };
</script>
<script>
  function confirmLogout() {
    if (confirm("Are you sure you want to logout?")) {
      window.location.href = "/logout";
    }
  }
</script>


</body>
</html>
